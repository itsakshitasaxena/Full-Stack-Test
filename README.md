# ğŸš€ Wholesale / Bulk Order Management System â€“ Backend (Member 4: Database & Invoice Module)

This repository contains the **Database Layer + Invoice Automation System** for the Wholesale/Bulk Order Management Platform.  
This module is developed by **Member 4** and is responsible for:

âœ… MySQL Database Schema  
âœ… Table Creation Automation  
âœ… Invoice PDF Generation (Puppeteer)  
âœ… Backend Integration Support  
âœ… Developer-ready setup for the full project team  

---

# ğŸŒŸ Project Highlights

### ğŸ”¹ Complete MySQL Schema for B2B Commerce
- Users (Retailers & Sellers)
- Products
- Tier Pricing (Bulk Discounts)
- Credit Accounts
- Orders
- Order Items

### ğŸ”¹ Automated PDF Invoice Generation  
Fully formatted invoices with:
- Buyer & Seller info  
- GST details  
- Items table  
- Tax, shipping, totals  
- Clean, professional layout  

---

# ğŸ–¼ Sample Generated Invoice (Preview)

Below is an actual invoice generated by the system:

![Invoice Preview](Generated_Invoice.png)

> *(Place `invoice_sample.png` next to README.md in your repo for this image to render properly.)*

---

# ğŸ—‚ Folder Structure

```
backend/
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ db.js
â”‚
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ User.js
â”‚   â”œâ”€â”€ Product.js
â”‚   â”œâ”€â”€ TierPricing.js
â”‚   â”œâ”€â”€ CreditAccount.js
â”‚   â”œâ”€â”€ Order.js
â”‚   â””â”€â”€ OrderItem.js
â”‚
â”œâ”€â”€ services/
â”‚   â””â”€â”€ invoiceGenerator.js
â”‚
â”œâ”€â”€ setup/
â”‚   â””â”€â”€ initDatabase.js
â”‚
â”œâ”€â”€ invoices/
â”‚   â””â”€â”€ (auto-generated PDF invoices)
â”‚
â”œâ”€â”€ testInvoice.js
â””â”€â”€ app.js
```

---

# âš™ï¸ Environment Setup

Create a `.env` file inside `backend/`:

```
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=1234
DB_NAME=bulk_order
```

> âš ï¸ **Important:** Each team member must create their own `.env` locally.

---

# ğŸ“¥ Install Dependencies

```
npm install mysql2 puppeteer dotenv
```

---

# ğŸ›¢ Set Up Database

## 1ï¸âƒ£ Open MySQL

```
mysql -u root -p
```

## 2ï¸âƒ£ Create Database

```sql
CREATE DATABASE bulk_order;
```

---

# ğŸ›  Initialize Tables

Run this once:

```
node setup/initDatabase.js
```

Expected output:

```
â†’ users table OK
â†’ products table OK
â†’ tier_pricing table OK
â†’ credit_accounts table OK
â†’ orders table OK
â†’ order_items table OK
âœ… All tables created successfully.
```

---

# ğŸ§¾ Generate Sample Invoice

Run:

```
node testInvoice.js
```

A PDF will appear inside:

```
backend/invoices/
```

---

# ğŸ”— Integration Guide (For Backend Team)

### Query Example

```js
const pool = require("../config/db");
const [rows] = await pool.query("SELECT * FROM products");
```

### Generate Invoice After Order Placement

```js
const { generateInvoice } = require("../services/invoiceGenerator");
await generateInvoice(orderData);
```

---

# ğŸ§© Team Collaboration Guide

### Member 3 (Backend Lead)
- Build APIs using the tables created here.
- Use `pool.query()` for all CRUD.
- Call `generateInvoice()` after order creation.

### Members 1 & 2 (Frontends)
- Consume APIs built by Member 3.
- Do NOT touch database or server-side invoice code.

### Member 5 (QA & DevOps)
- Validate workflow
- Test invoice generation
- Prepare deployment

---

# ğŸ¯ Member 4 Deliverables (Completed)

âœ” Database Schema (6 tables)  
âœ” MySQL Integration  
âœ” DB Setup Script  
âœ” Invoice Generator (Puppeteer)  
âœ” Test Invoice Script  
âœ” Folder Structure Setup  
âœ” Team Integration Documentation  
âœ” Ready-to-deploy backend module  

---

# ğŸ Final Notes

This module is **production-ready** and can be easily integrated with:

- Render  
- Railway  
- AWS MySQL (RDS)  
- PlanetScale  
- Vercel + External DB  

Just swap `.env` values when deploying.

---

# ğŸ‘¨â€ğŸ’» Author  
**Member 4 â€“ Database & Invoice Specialist**  
Wholesale / Bulk Order Management System  
2025

